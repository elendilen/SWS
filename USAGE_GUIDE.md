# 小车控制系统使用说明

## 快速启动

### 1. 启动优化版本（推荐）
```bash
cd /home/lenovo/SWS
./start_car_optimized.sh
```

### 2. 启动原版本
```bash
cd /home/lenovo/SWS
./start_car_web.sh
```

## 控制方式

### 网页控制
- 在浏览器中打开 `http://localhost:5800`
- 使用按钮控制小车移动
- 实时查看摄像头画面

### 键盘控制
- **W/↑**: 前进
- **S/↓**: 后退  
- **A/←**: 左转
- **D/→**: 右转
- **空格**: 停止/拍照

### 紧急停止
- **红色急停按钮**: 立即停止
- **切换窗口**: 自动停止
- **关闭浏览器**: 自动停止

## 功能说明

### 视频流
- 实时显示摄像头画面
- 自动调整分辨率和帧率
- 支持拍照和相册管理

### 控制命令
- 响应时间优化至100ms以内
- 支持连续控制和精确停止
- 多重安全停止机制

### 状态监控
- 实时显示连接状态
- 显示当前执行命令
- 串口连接状态监控

## 性能测试

运行性能测试脚本：
```bash
cd /home/lenovo/SWS
python3 test_performance.py
```

## 故障排除

### 串口连接问题
- 检查串口设备是否连接
- 使用重连按钮尝试重新连接
- 确认串口权限设置正确

### 摄像头问题
- 检查摄像头是否正常工作
- 重启系统重新初始化摄像头
- 检查摄像头占用情况

### 网络访问问题
- 确认防火墙设置允许5800端口
- 检查IP地址和端口配置
- 尝试使用IP地址而非localhost

## 优化配置

优化版本的主要改进：
- 视频延迟减少50-70%
- 控制响应时间减少到100ms内
- 移除不必要的系统监控功能
- 增强的紧急停止机制

## 安全提醒

- 使用前确保操作环境安全
- 随时准备使用紧急停止功能
- 定期检查硬件连接状态
- 避免在网络不稳定时操作
